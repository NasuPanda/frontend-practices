# 7. Reactをめぐるフロントエンドの歴史

# 7-1. React 登場前夜

## 全てはGoogle Mapから始まった

Webフロントエンド元年と言えるのが2005年。
この年にGoogle Mapがリリースされた。

### Google Mapの何がすごかったのか

Google Mapはマウスのドラッグにより、見る位置を好きなように移動させたり、拡大・縮小させたりといったことがリアルタイムで出来た。
従来のインターネットの地図サービスは全てサーバーサイドアプリケーションで、移動・拡大しようとすると、静的リンクをクリックしてページ遷移する必要があり、非常にストレスフルだった。

もしもGoogle Mapのようなインタラクティブなことをさせるには Flash などのプラグインを使うしか無かったが、それを HTML/JavaScript だけで実現してしまったことが衝撃的だった。
それまでJavaScriptはホームページを無意味に飾り付けるための言語だと思われていたが、Google Mapが再評価のきっかけとなった。

当時のGoogle Mapには Ajax(Asynchronous JavaScript + XML) という技術が使われた。

## フロントエンド第1世代

Google Map が Ajax を使っていたことから、 Ajax で高度なフロントエンドアプリケーションを作ろうという機運が高まっていった。

そして Google Map のリリースから3ヶ月後、最初に登場したのが Prototype JavaScript Framework 、 通常 **prototype.js** 。
Ajaxフレームワークを始めとしたJavaScriptアプリケーション開発のための様々な機能を提供するもの。

翌2006年には **JQuery** がリリース。
JavaScriptアプリ開発のためのユーティリティライブラリ群なのは prototype.js と変わらないが、DOM操作にブラウザ依存をなくした独自セレクタエンジンを採用していた。
当時はブラウザ間でJavaScriptの実装に無視できない差異があったため、それを吸収してくれる JQuery の利便性が評価され、広く使われるようになっていった。

Web フロントエンド開発のためのフレームワークや UI 構築ライブラリを世代分けするなら、 prototype.js や jQuery は第 1 世代といえる。
DOM 操作ライブラリを主軸としながら、確固としたアーキテクチャを持たないユーティリティライブラリ群の詰め合わせというのが共通する特徴。

### フロントエンド第1世代の HTML / JavaScript の動き

いっぽうこのようなフロントエンドの動向に呼応してか、しばらく安定してた Web や JavaScript の世界においても変化の動きが出てきた。
まず 2008 年に HTML5 のドラフトが発表される。 HTML5 は Adobe の Flash や Microsoft の Silverlight といったプロプライエタリなプラグインとして
提供されていたリッチなアプリケーションのプラットフォームを置き換えることを目的とし、Web アプリケーションのプラットフォームとしての機能や API を実装するための仕様。

すべてが固まって正式に勧告されたのは 2014 年だったが、主要なモダンブラウザは前倒しでどんどん対応を進めていき、2010 年ごろまでには仕様のほとんどがカバーされていた。
そうしてついに 2011 年 11 月、 Adobe は Flash Player の開発中止を発表するに至る。

JavaScriptの世界では2008年にGoggleが Chrome の JavaScriptエンジンであるV8をオープンソースとして公開。
翌2009年には V8 をエンジンに採用した Node.js がリリース。
さらに 1999年 を最後に更新されていなかったECMAScriptが2009年に ECMAScript 5th Edition、略称ES5 が発表された。

## フロントエンド第2世代

高度で複雑なアプリケーションをJavaScriptで作れる土壌が整ってきたが、明確なアーキテクチャが存在しない第1世代の技術でそれをやろうとすると、コードが無秩序に膨れ上がってしまう。
そこで、サーバーサイド開発で一般的だった MVC パターンをクライアントサイド向けにアレンジ・適用したフレームワークが出現。

第 2 世代における三大フレームワークが **Backbone.js** と **Knockout** 、 **AngularJS**。
なお、 AngularJS は現在の Angular と イコール ではない。Angular は名前だけ引き継いで作り直した互換性のない別フレームワーク。

# 7-2. Web Components が夢見たもの

## Web Components

2011年、Fronteers Conference 2011 において、Google のエンジニ アで Chrome 開発チームのメンバーである Alex Russell が『Web Components and Model Driven Views』というテーマで講演をした。
その内容は HTML をプログラマブルに拡張し、開発者が自ら作成したカスタムタグを読み込んで使えるようにする Web Components という技術を Web 標準 の仕様として広くブラウザに実装しようと提唱するもの。
従来用いられていたような、ひとつの長大な HTML と全体に適用されるこれまた長大な CSS をカプセル化された再利用可能なコンポーネントに分割し、それらの組み合わせで Web コンテンツを表現する仕組みを作ろうという提案だった。

これは野心的な提案だったが、ブラウザに実装するにはかなりコストがかかるもの。
ブラウザベンダー各社の合意を取るための調整が難航し、 Shadow DOM や Custom Elements が実装出来たのが2016年。

## React

React は Web Components のコアとなるアイデアを借用、それを既存のJavaScript技術を用いてライブラリの形にしたものと言える。
