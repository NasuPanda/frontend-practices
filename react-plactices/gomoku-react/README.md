# 五目並べ

## 五目並べとは

> 囲碁同様、2 人のプレイヤーが碁盤の上に黒、白の石 1 つずつ交互に置く。置く場所は原則として自由である。いったん置いた石は除かれない。先に自らの色の石を 5 個直線(縦、横、45 度の斜め)に並べた方が勝ちである。

## 仕様

- H×W のマスで構成されるボードが存在、プレイヤー白/黒が交互にマスを選択してゲームを進行していく。
- 勝敗の判定については、五目並べのルールに従う。
- 勝者が決定するとゲームが終了。ゲーム終了時、リセットボタンが表示される。

### 環境など

- react 18.2.0
- MUI 5.10.4

## 設計

[React の流儀 - React](https://ja.reactjs.org/docs/thinking-in-react.html)に従う。

1. デザインモック
2. 静的に動作するバージョンの作成
3. UI を表現するために最低限必要な「状態」を特定
4. 3 の状態をどこに配置すべきか決める
5. 階層構造を遡って考え、データが上流から流れてくるようにする

### コンポーネント

- **ゲームの構成要素**
  - ボード全体 : Board
    - マス目 : Square
  - ○ : whiteStone, BlackStone
- **ゲームの進行**
  - 現在操作しているプレイヤーの表示 : PlayerIndicator
  - 勝者 : WinnerIndicator
  - リセットボタン : ResetButton

### 勝敗判定アルゴリズム

縦、横、斜め 45 度のいずれかに 5 個揃った時点で勝者が確定する。
パッと思いつくのは 2 次元配列を使う方法。

1. シンプルに総和で実装 (自分の石のとき+1、相手の石のとき ×0 でリセット)
2. 毎回総和を求めると効率が悪いので、変更があった `[h,w]` だけ更新するように
3. 斜めの判定も実装

### 必要な state

- 各マスが持つ白/黒の情報
- 現在操作しているプレイヤー
- ゲーム終了フラグ
